/*
 Copyright (c) 2008 Yii Software LLC
 @license http://www.yiiframework.com/license/
 @author Qiang Xue <qiang.xue@gmail.com>
 @since 2.0
*/
(function(b){b.fn.yiiCaptcha=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?(b.error("Method "+a+" does not exist in jQuery.yiiCaptcha"),!1):e.init.apply(this,arguments)};var f={refreshUrl:void 0,hashKey:void 0},e={init:function(a){return this.each(function(){var c=b(this),d=b.extend({},f,a||{});c.data("yiiCaptcha",{settings:d});c.on("click.yiiCaptcha",function(){e.refresh.apply(c);return!1})})},refresh:function(){var a=this,c=this.data("yiiCaptcha").settings;
b.ajax({url:a.data("yiiCaptcha").settings.refreshUrl,dataType:"json",cache:!1,success:function(d){a.attr("src",d.url);b("body").data(c.hashKey,[d.hash1,d.hash2])}})},destroy:function(){this.off(".yiiCaptcha");this.removeData("yiiCaptcha");return this},data:function(){return this.data("yiiCaptcha")}}})(window.jQuery);
